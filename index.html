
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <p>
            <div class="top_caption">The prompt is a console.log version of tic tac toe.</div>
            <div class="top_caption">Another version is down below, but with simplistic buttons.</div>
        </p>

        <script type="text/javascript">
            function getComputerChoice() {
                const hands = ["rock", "paper", "scissors"];
                return hands[Math.floor(Math.random() * 3)];
            }

            function getPlayerChoice() {
                do {
                    let user_input = prompt("Choose/type rock, paper, or scissors.");

                    if (user_input.toLowerCase() == "rock" ||
                        user_input.toLowerCase() == "paper" ||
                        user_input.toLowerCase() == "scissors") {
                            return user_input
                        }
                }
                while (true);
            }

            function getNumOfRounds() {
                do {
                    let round = prompt("Number of rounds?");

                    if (/^-?\d+$/.test(round)) {
                        return round
                    }
                }

                while (true);
            }

            function playRound(user, cpu) {

                if ((user == "rock" && cpu == 'paper') || 
                    (user == 'paper' && cpu == "scissors") || 
                    (user == "scissors" && cpu == "rock")) {
                    return 'You lose! ' + user + " loses to " + cpu + '.';
                }
                else if ((user == "rock" && cpu == "rock") || 
                           (user == 'paper' && cpu == 'paper') || 
                           (user == "scissors" && cpu == "scissors")) {
                    return "It's a tie! You both chose " + cpu + ".";
                }
                else {
                    return 'You win! ' + user + " beats " + cpu + '.';
                }
            }

            function playGame() {
                let user_score = 0;
                let cpu_score = 0;
                let rounds = getNumOfRounds();

                let statement;
                for (let i = 0; i < rounds; i++) {
                    statement = playRound(getPlayerChoice(), getComputerChoice());
                    if (statement.startsWith("You lose!")) {
                        cpu_score++
                    } else if (statement.startsWith("You win!")) {
                        user_score++
                    }

                    console.log(statement)
                    console.log("Player score: " + user_score + " // Computer score: " + cpu_score)

                }
            }
            
            playGame();
        </script>

        <div class="user_input">
            <p>Choose rock, paper or scissors.</p>
            <div class="user_buttons">
                <button onclick="rps('rock')">Rock</button>
                <button onclick="rps('paper')">Paper</button>
                <button onclick="rps('scissors')">Scissors</button>
            </div>
        </div>
        <p id="rps_result"></p>
        <p id="rps_score">Your score: 0 // Computer score: 0</p>

        <script src="scripts.js" type="text/javascript"></script>
    </body>
</html>